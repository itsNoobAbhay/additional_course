<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login - Course Fee Payer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: #1a1f2e;
            color: #333;
            line-height: 1.6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            width: 100%;
            text-align: center;
        }

        h1 {
            font-size: 2.5em;
            font-weight: 700;
            color: #f5f5f5;
            margin-bottom: 30px;
        }

        #password-section {
            background: #2c344b;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        #password-input {
            padding: 10px;
            font-size: 1em;
            width: 100%;
            max-width: 300px;
            border: 2px solid #b0b7c3;
            border-radius: 5px;
            background: #fff;
            color: #1a1f2e;
            margin-bottom: 20px;
        }

        #submit-password {
            padding: 10px 40px;
            background: #b0b7c3;
            color: #1a1f2e;
            border: none;
            border-radius: 50px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #submit-password:hover {
            background: #e0e5ec;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(176, 183, 195, 0.4);
        }

        #admin-panel {
            display: none;
        }

        .section {
            background: #e5e7eb;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 40px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            border: 1px solid #d1d5db;
        }

        .section h2 {
            font-size: 1.8em;
            color: #1a1f2e;
            margin-bottom: 20px;
            border-bottom: 1px solid #b0b7c3;
            padding-bottom: 5px;
        }

        .form-group {
            margin-bottom: 15px;
            text-align: left;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        .form-group label {
            display: block;
            font-size: 1em;
            color: #4b5563;
            margin-bottom: 5px;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 10px;
            font-size: 1em;
            border: 1px solid #d1d5db;
            border-radius: 5px;
            background: #fff;
            color: #333;
        }

        .form-group input::placeholder, .form-group textarea::placeholder {
            color: #9ca3af;
        }

        .form-group textarea {
            height: 80px;
            resize: vertical;
        }

        button {
            padding: 10px 40px;
            background: #1a1f2e;
            color: #f5f5f5;
            border: none;
            border-radius: 50px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        button:hover {
            background: #2c344b;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .list {
            margin-top: 20px;
            text-align: left;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        .list h3 {
            font-size: 1.2em;
            color: #1a1f2e;
            margin-bottom: 10px;
        }

        .list ul {
            list-style: none;
            padding: 0;
        }

        .list li {
            background: #f5f5f5;
            color: #333;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            font-size: 0.95em;
            word-wrap: break-word;
            border: 1px solid #d1d5db;
        }

        #home-button {
            margin-top: 20px;
            display: none; /* Initially hidden */
            background: #b0b7c3; /* Light theme background */
            color: #1a1f2e; /* Dark text for contrast */
        }

        #home-button:hover {
            background: #e0e5ec; /* Lighter hover effect */
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(176, 183, 195, 0.4);
        }

        @media (max-width: 480px) {
            h1 { font-size: 2em; }
            .section h2 { font-size: 1.5em; }
            .form-group input, .form-group textarea { font-size: 0.9em; }
            button, #submit-password { padding: 8px 30px; font-size: 0.9em; }
            .list li { font-size: 0.85em; }
            #home-button { padding: 8px 30px; font-size: 0.9em; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Admin Login</h1>

        <!-- Password Section -->
        <div id="password-section">
            <input type="password" id="password-input" placeholder="Enter Password" required>
            <button id="submit-password">Submit</button>
        </div>

        <!-- Admin Panel -->
        <div id="admin-panel">
            <!-- Add Students Section -->
            <div class="section">
                <h2>Add Students</h2>

                <div class="form-group">
                    <label for="student-name">First Name</label>
                    <input type="text" id="student-name" placeholder="Enter first name" required>
                </div>
                <div class="form-group">
                    <label for="student-surname">Surname</label>
                    <input type="text" id="student-surname" placeholder="Enter surname" required>
                </div>
                <div class="form-group">
                    <label for="student-department">Department</label>
                    <select id="student-department" required style="width: 100%; padding: 10px; font-size: 16px; border: 1px solid #ccc; border-radius: 5px; background: #fff; cursor: pointer;">
                        <option value="" disabled selected>Select Department</option>
                        <option value="Computer Science">Computer Science</option>
                        <option value="Information Technology">Information Technology</option>
                        <option value="Data Science">Data Science</option>
                        <option value="Computer Applications">Computer Applications</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="student-mobile">Mobile Number</label>
                    <input type="tel" id="student-mobile" placeholder="Enter mobile number" required 
                        maxlength="10" pattern="\d{10}"
                        style="width: 100%; padding: 10px; font-size: 16px; border: 1px solid #ccc; border-radius: 5px;"
                        oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, 10)">
                    <small id="mobile-error" style="color: red; display: none;">Must be exactly 10 digits</small>
                </div>

                <div class="form-group">
                    <label for="student-email">Email ID</label>
                    <input type="email" id="student-email" placeholder="Enter student email" required>
                    <small id="email-error" style="color: red; display: none;">Enter a valid email</small>
                </div>
                <div class="form-group">
                    <label for="student-password">Password</label>
                    <input type="text" id="student-password" placeholder="Enter student password" required>
                </div>
                <button id="add-student">Add Student</button>
                <div class="list" id="student-list">
                    <h3>Added Students</h3>
                    <ul></ul>
                </div>
            </div>

            <!-- Add Course Section -->
            <div class="section">
                <h2>Add Course</h2>
                <div class="form-group">
                    <label for="course-name">Course Name</label>
                    <input type="text" id="course-name" placeholder="Enter course name" required>
                </div>
                <div class="form-group">
                    <label for="course-hours">Total Hours</label>
                    <input type="number" id="course-hours" placeholder="Enter total hours" required>
                </div>
                <div class="form-group">
                    <label for="course-description">Description</label>
                    <textarea id="course-description" placeholder="Enter course description" required></textarea>
                </div>
                <div class="form-group">
                    <label for="course-teacher">Teacher Name</label>
                    <input type="text" id="course-teacher" placeholder="Enter teacher name" required>
                </div>
                <div class="form-group">
                    <label for="course-cost">Cost (INR)</label>
                    <input type="number" id="course-cost" placeholder="Enter course cost" required>
                </div>
                <button id="add-course">Add Course</button>
                <div class="list" id="course-list">
                    <h3>Added Courses</h3>
                    <ul></ul>
                </div>
            </div>
        </div>

        <!-- Home Page Button -->
        <button id="home-button" onclick="window.location.href='root.html'">Home Page</button>
    </div>

    <script>
        let students = JSON.parse(localStorage.getItem('students')) || [];
        students = students.filter(student => 
            student && student.email && student.password && 
            student.email !== 'undefined' && student.password !== 'undefined'
        );
        localStorage.setItem('students', JSON.stringify(students));

        if (!localStorage.getItem('courses')) {
            localStorage.setItem('courses', JSON.stringify([]));
        }

        const passwordSection = document.getElementById('password-section');
        const adminPanel = document.getElementById('admin-panel');
        const passwordInput = document.getElementById('password-input');
        const submitPassword = document.getElementById('submit-password');
        const homeButton = document.getElementById('home-button');

        const studentEmail = document.getElementById('student-email');
        const studentPassword = document.getElementById('student-password');
        const addStudentBtn = document.getElementById('add-student');
        const studentList = document.getElementById('student-list').querySelector('ul');

        const courseName = document.getElementById('course-name');
        const courseHours = document.getElementById('course-hours');
        const courseDescription = document.getElementById('course-description');
        const courseTeacher = document.getElementById('course-teacher');
        const courseCost = document.getElementById('course-cost');
        const addCourseBtn = document.getElementById('add-course');
        const courseList = document.getElementById('course-list').querySelector('ul');

        submitPassword.addEventListener('click', () => {
            if (passwordInput.value === 'admin') {
                passwordSection.style.display = 'none';
                adminPanel.style.display = 'block';
                homeButton.style.display = 'inline-block';
                loadStudents();
                loadCourses();
            } else {
                alert('Incorrect password. Please try again.');
            }
        });

        addStudentBtn.addEventListener('click', () => {
            const email = studentEmail.value.trim();
            const password = studentPassword.value.trim();
            if (email && password) {
                const students = JSON.parse(localStorage.getItem('students'));
                students.push({ email, password });
                localStorage.setItem('students', JSON.stringify(students));
                studentEmail.value = '';
                studentPassword.value = '';
                loadStudents();
            } else {
                alert('Please fill in both email and password.');
            }
        });

        addCourseBtn.addEventListener('click', () => {
            const name = courseName.value.trim();
            const hours = courseHours.value.trim();
            const description = courseDescription.value.trim();
            const teacher = courseTeacher.value.trim();
            const cost = courseCost.value.trim();
            if (name && hours && description && teacher && cost) {
                const courses = JSON.parse(localStorage.getItem('courses'));
                courses.push({ name, hours, description, teacher, cost });
                localStorage.setItem('courses', JSON.stringify(courses));
                courseName.value = '';
                courseHours.value = '';
                courseDescription.value = '';
                courseTeacher.value = '';
                courseCost.value = '';
                loadCourses();
            } else {
                alert('Please fill in all course fields.');
            }
        });

        function loadStudents() {
            const students = JSON.parse(localStorage.getItem('students'));
            studentList.innerHTML = '';
            students.forEach(student => {
                if (student.email && student.password) {
                    const li = document.createElement('li');
                    li.textContent = `Email: ${student.email} | Password: ${student.password}`;
                    studentList.appendChild(li);
                }
            });
        }

        function loadCourses() {
            const courses = JSON.parse(localStorage.getItem('courses'));
            courseList.innerHTML = '';
            courses.forEach(course => {
                const li = document.createElement('li');
                li.textContent = `${course.name} | ${course.hours} hrs | Teacher: ${course.teacher} | Cost: ₹${course.cost} | ${course.description}`;
                courseList.appendChild(li);
            });
        }
    </script>

<script>
    document.getElementById("add-student").addEventListener("click", function(event) {
        let mobileInput = document.getElementById("student-mobile");
        let emailInput = document.getElementById("student-email");
        let mobileError = document.getElementById("mobile-error");
        let emailError = document.getElementById("email-error");
        let emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;

        // Validate mobile number (exactly 10 digits)
        if (mobileInput.value.length !== 10) {
            mobileError.style.display = "block";
            event.preventDefault();  // Stop form submission
        } else {
            mobileError.style.display = "none";
        }

        // Validate email format
        if (!emailPattern.test(emailInput.value)) {
            emailError.style.display = "block";
            event.preventDefault();  // Stop form submission
        } else {
            emailError.style.display = "none";
        }
    });
</script>
</body>
</html>